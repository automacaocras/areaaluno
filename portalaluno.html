<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Portal do Aluno ‚Äì Editora Cr√°s</title>
  <meta name="description" content="Acompanhe o pr√≥ximo feedback, envie exerc√≠cios e acesse conte√∫dos gravados.">
  <link rel="icon" type="image/png" href="assets/favicon.png" sizes="32x32">
  <link rel="apple-touch-icon" href="assets/apple-touch-icon.png" sizes="180x180">
  <link rel="shortcut icon" href="assets/favicon.ico">
  <meta name="theme-color" content="#0286ff">
  <link rel="stylesheet" href="style.css?v=7">

  <style>
    /* Topbar full-bleed */
    .topbar{
      width:100vw;margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw);
      background:#e6b200;color:#000;font-weight:800;text-align:center;
      padding:12px 0;box-shadow:inset 0 -2px 0 rgba(0,0,0,.08);
    }

    .curso-logo{width:200px;max-width:60vw;height:auto;display:block;margin:10px auto 6px}
    .dias-restantes{font-weight:800;margin:8px 0 6px;text-align:center}
    .dias-danger{color:#d93025}

    /* Cart√µes (mesma largura) */
    .card,.box-feedback{
      max-width:900px;margin:14px auto;background:#fff;border:1px solid #f2e3a6;
      border-radius:18px;padding:18px;box-shadow:0 8px 24px rgba(0,0,0,.06);text-align:center;
    }
    .box-feedback h3{margin:0 0 10px}
    .box-feedback p{margin:6px 0;line-height:1.5}

    /* Bot√£o principal com mesma largura do cart√£o */
    .btn-cta{
      display:block;width:100%;max-width:900px;margin:16px auto 10px;padding:16px 18px;
      border:none;border-radius:18px;background:#e6b200;color:#111;font-weight:800;cursor:pointer;
    }
    .btn-cta:disabled{opacity:.6;cursor:not-allowed}

    .row{margin:10px auto;max-width:900px}
    .flex-row{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
    .btn-sec{background:#ddd;color:#111;border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}

    .thumb-hint{font-size:12px;color:#666;text-align:center;margin-top:6px}
    .hidden{display:none!important}

    /* Links √∫teis (sem cart√£o) */
    .links-uteis{
      max-width:900px;margin:22px auto 10px;text-align:center;font-weight:800;
    }

    /* Bot√£o sair pequeno */
    .btn-exit{
      display:inline-block;margin:8px auto 24px;padding:10px 18px;background:#e53935;
      color:#fff;border:none;border-radius:12px;font-weight:800;cursor:pointer;
    }

    /* ‚ÄúResumo‚Äù em negrito (mostra exatamente o que veio da planilha) */
    .fb-raw strong{font-weight:800;display:block}

    /* Inputs do envio em largura total dentro do card */
    #envio .card .title-label{display:block;margin:10px auto 6px;font-weight:700}
    #envio .card select, #envio .card textarea{width:100%;max-width:900px}
    #envio .card textarea{min-height:120px;border-radius:12px;border:1px solid #cfd6e4;padding:10px}

    /* Bot√£o Voltar pequeno fora do card de envio */
    .envio-back{max-width:900px;margin:8px auto 22px;text-align:center}
    .btn-back{background:#ddd;color:#111;border:none;border-radius:12px;padding:10px 18px;font-weight:800;cursor:pointer}

    /* Overlay corrigido */
    #overlay{
      display:none;
      position:fixed; inset:0;
      width:100svw; height:100svh;
      background:rgba(0,0,0,.35);
      z-index:10000;
      place-items:center;
    }
    #overlay .loader{
      padding:12px 16px;
      background:#fff;
      border-radius:10px;
      box-shadow:0 6px 18px rgba(0,0,0,.15);
    }
    #overlay .loader-text{
      font-weight:700;
      color:#000;
    }
  </style>
</head>
<body>
  <div class="topbar">[aluno]</div>

  <main class="page-center" style="--center-offset:-40px;">
    <img id="cursoLogo" class="curso-logo" alt="Curso" style="display:none">

    <div id="diasRestantes" class="dias-restantes">Carregando...</div>

    <!-- Cupom -->
    <div id="cupomBox" class="card" style="display:none">
      <div>Poxa, seu acesso ao curso est√° acabando üò¢</div>
      <div style="margin-top:6px">
        Use o cupom
        <span id="cupomCod" style="background:#111;color:#ffd400;padding:3px 8px;border-radius:6px;font-weight:800">---</span>
        e receba <strong id="cupomPerc">---</strong>% de desconto para adquirir novamente.
        <a id="cupomLink" href="#" target="_blank" rel="noopener">Clique aqui</a>.
      </div>
    </div>

    <section id="dashboard">
      <!-- Cart√£o 1: Pr√≥ximo feedback -->
      <div class="box-feedback">
        <h3>Pr√≥ximo feedback:</h3>
        <p class="fb-raw" id="fbRawWrap">
          <strong id="fbDiaTxt" style="display:none">‚Äî</strong>
          <strong id="fbHoraTxt" style="display:none">‚Äî</strong>
        </p>

        <p>Professor: <strong id="fbProf">‚Äî</strong></p>

        <p><a id="fbLink" href="#" target="_blank" rel="noopener">[link da aula]</a></p>
        <p>Senha: <strong id="fbSenha">‚Äî</strong></p>
        <p id="fbInfo" style="margin-top:10px;color:#333">‚Äî</p>
      </div>

      <!-- Bot√£o Enviar -->
      <button id="btnAbrirEnvio" class="btn-cta" type="button">Envie os exerc√≠cios para feedback</button>

      <!-- Cart√£o 2: √öltima aula gravada -->
      <div class="card">
        <h3 style="margin-top:0;">√öltima aula gravada:</h3>
        <p class="hint">Aproveite para baixar pois ela expira.</p>
        <p><a id="ultimaGravada" href="#" target="_blank" rel="noopener">[link]</a></p>
      </div>

      <!-- Links √∫teis + sair -->
      <div class="links-uteis">Links √∫teis</div>
      <div style="text-align:center">
        <button id="btnSair" class="btn-exit" type="button">Sair</button>
      </div>
    </section>

    <!-- √Årea de envio -->
    <section id="envio" class="hidden">
      <div class="card">
        <h2>Envio de exerc√≠cio para feedback</h2>
        <div class="hint">*No m√°ximo 3 artes por semana. Envie apenas no dia do feedback.</div>

        <label class="title-label">Selecione o m√≥dulo do exerc√≠cio:</label>
        <select id="selModulo" class="input-like" disabled>
          <option value="">Carregando m√≥dulos...</option>
        </select>

        <label class="title-label">Selecione a aula do exerc√≠cio:</label>
        <select id="selAula" class="input-like" disabled>
          <option value="">Selecione o m√≥dulo primeiro</option>
        </select>

        <label class="title-label">Envie a arte:</label>
        <div id="filesWrap" class="row">
          <input type="file" class="fileItem" accept="image/*">
          <div class="thumb-hint">Formatos de imagem (JPG/PNG). At√© 3 envios.</div>
        </div>

        <div class="flex-row" style="margin-top:6px">
          <button id="btnAddImagem" class="btn-sec" type="button">Adicionar outra imagem</button>
          <button id="btnResetar" class="btn-sec" type="button">Cancelar imagens</button>
        </div>

        <label class="title-label">Descri√ß√£o</label>
        <textarea id="descricao" rows="6" placeholder="Conte sobre suas dificuldades/pensamentos ao fazer esses desenhos."></textarea>

        <button id="btnEnviar" class="btn-cta" type="button">Enviar</button>
      </div>

      <div class="envio-back">
        <button id="btnVoltarEnvio" class="btn-back" type="button">Voltar</button>
      </div>
    </section>

    <!-- Sucesso -->
    <section id="sucesso" class="hidden">
      <div class="card">
        <h2>‚úÖ Enviado!</h2>
        <p>Pronto! Logo menos seu desenho ser√° avaliado!</p>
        <button id="btnVoltarMenu" class="btn-sec" type="button">Menu</button>
      </div>
    </section>
  </main>

  <!-- Overlay corrigido -->
  <div id="overlay"><div class="loader"><div class="loader-text">Enviando‚Ä¶</div></div></div>

  <!-- Rodap√© igual ao index -->
  <footer class="site-footer">
    <div class="footer-inner">
      <strong>Editora Cr√°s ‚Ä¢ </strong>
      <a href="mailto:contato@editoracras.com">Suporte</a>
      <small>¬© 2025. Todos os direitos reservados.</small>
    </div>
  </footer>

  <script>
    const BUILD_VERSION = "7";
    const API_URL = "https://script.google.com/macros/s/AKfycbwQ9utyV79uWjpVHuBRWbie_2kkgTX-lPBudob49WA2daqn5qdbdqyzhl3LqYC0y_fVuQ/exec";
    const MAX_FILES = 3;
    let sessao = null, bootstrap = null;
    const qs = s => document.querySelector(s);
    const qsa = s => Array.from(document.querySelectorAll(s));
    const show = el => el.classList.remove('hidden');
    const hide = el => el.classList.add('hidden');

    function setTopbarName(nome){ qs(".topbar").textContent = `[${nome || "aluno"}]`; }
    function setLoading(state){
      qs("#overlay").style.display = state ? "grid" : "none";
      const btn = qs("#btnEnviar");
      if (btn) btn.disabled = state;
    }
    function validEmail(v){ return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(v); }
    function normalizeUrl(s){
      const v = (s || "").trim();
      if (!v) return "";
      if (/^https?:\\/\\//i.test(v)) return v;
      return "https://" + v;
    }

    document.addEventListener("DOMContentLoaded", async () => {
      try { sessao = JSON.parse(localStorage.getItem("sessao_portal") || "null"); } catch {}
      const params = new URLSearchParams(location.search);
      if (!sessao) sessao = { email: params.get("email"), curso: params.get("curso") };
      if (!sessao || !validEmail(sessao.email) || !sessao.curso) {
        alert("Fa√ßa login novamente."); location.href = "index.html"; return;
      }

      await carregarBootstrap(sessao.curso, sessao.email);
      qs("#btnAbrirEnvio").addEventListener("click", abrirEnvio);
      qs("#btnVoltarEnvio").addEventListener("click", () => { hide(qs("#envio")); show(qs("#dashboard")); window.scrollTo({ top: 0, behavior: "smooth" }); });
      qs("#btnAddImagem").addEventListener("click", addFileInput);
      qs("#btnResetar").addEventListener("click", resetFiles);
      qs("#btnEnviar").addEventListener("click", enviarExercicio);
      qs("#btnVoltarMenu").addEventListener("click", () => { hide(qs("#sucesso")); show(qs("#dashboard")); window.scrollTo({ top: 0, behavior: "smooth" }); });
      qs("#btnSair").addEventListener("click", () => { localStorage.removeItem("sessao_portal"); location.href = "index.html"; });
    });

    async function carregarBootstrap(curso, email){
      try{
        const resp = await fetch(`${API_URL}?action=portalBootstrap&curso=${encodeURIComponent(curso)}&email=${encodeURIComponent(email)}`, { cache:"no-store" });
        bootstrap = await resp.json();
        if (!bootstrap || bootstrap.allowed !== true) { location.href = "index.html"; return; }

        setTopbarName(bootstrap.nome);
        const logoEl = qs("#cursoLogo");
        if (bootstrap.logoUrl) { logoEl.src = bootstrap.logoUrl; logoEl.style.display = "block"; }

        const dr = Number(bootstrap.diasRestantes || 0);
        qs("#diasRestantes").textContent = dr > 0 ? `[${dr}] dias restantes de acesso ao curso` : `Seu acesso est√° expirado.`;
        if (dr <= 30) {
          qs("#diasRestantes").classList.add("dias-danger");
          const cup = bootstrap.desconto;
          if (cup && cup.cupom) {
            qs("#cupomCod").textContent = cup.cupom;
            qs("#cupomPerc").textContent = String(cup.porcentagem || "").replace(/%/g, "");
            if (cup.link) qs("#cupomLink").href = normalizeUrl(cup.link);
            qs("#cupomBox").style.display = "block";
          }
        }

        const fb = bootstrap.feedback || {};
        const dia  = (fb.dia   || "").toString().trim();
        const hora = (fb.hora  || "").toString().trim();
        const elDia  = qs("#fbDiaTxt");
        const elHora = qs("#fbHoraTxt");
        if (dia){ elDia.textContent = dia;  elDia.style.display = "block"; } else { elDia.style.display = "none"; }
        if (hora){ elHora.textContent = hora; elHora.style.display = "block"; } else { elHora.style.display = "none"; }

        qs("#fbProf").textContent   = bootstrap.professorNome || "‚Äî";
        qs("#fbSenha").textContent  = fb.senha || "‚Äî";
        qs("#fbInfo").textContent   = fb.info  || "‚Äî";

        const linkEl = qs("#fbLink");
        if (fb.link) {
          const url = normalizeUrl(fb.link);
          linkEl.href = url; linkEl.textContent = url;
        } else { linkEl.removeAttribute("href"); linkEl.textContent = "‚Äî"; }

        const ag = String(fb.aulaGravada || "").trim();
        const grav = qs("#ultimaGravada");
        if (ag) { const url = normalizeUrl(ag); grav.href = url; grav.textContent = url; }
        else { grav.removeAttribute("href"); grav.textContent = "‚Äî"; }

      } catch(e){
        alert("Erro ao carregar a p√°gina."); location.href = "index.html";
      }
    }

    async function abrirEnvio(){
      hide(qs("#dashboard"));
      await carregarModulos().catch(()=>{});
      updateAddBtnVisibility();
      show(qs("#envio"));
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    async function carregarModulos(){
      const sel = qs("#selModulo");
      const selA = qs("#selAula");
      sel.disabled = true; sel.innerHTML = `<option value="">Carregando m√≥dulos...</option>`;
      selA.disabled = true; selA.innerHTML = `<option value="">Selecione o m√≥dulo primeiro</option>`;
      try{
        const resp = await fetch(`${API_URL}?action=listModules&curso=${encodeURIComponent(sessao.curso)}`, { cache:"no-store" });
        const data = await resp.json();
        const mods = Array.isArray(data.modulos) ? data.modulos : [];
        sel.innerHTML = `<option value="">Selecione seu curso / m√≥dulo</option>`;
        mods.forEach(m => { const op = document.createElement("option"); op.value = m; op.textContent = m; sel.appendChild(op); });
        sel.disabled = false;
        sel.onchange = carregarAulas;
      }catch(e){
        sel.innerHTML = `<option value="">Erro ao carregar m√≥dulos</option>`;
      }
    }

    async function carregarAulas(){
      const modulo = qs("#selModulo").value;
      const sel = qs("#selAula");
      sel.disabled = true; sel.innerHTML = `<option value="">Carregando aulas...</option>`;
      if (!modulo) { sel.innerHTML = `<option value="">Selecione o m√≥dulo primeiro</option>`; return; }
      try{
        const resp = await fetch(`${API_URL}?action=listLessons&curso=${encodeURIComponent(sessao.curso)}&modulo=${encodeURIComponent(modulo)}`, { cache:"no-store" });
        const data = await resp.json();
        const aulas = Array.isArray(data.aulas) ? data.aulas : [];
        sel.innerHTML = `<option value="">Selecione a aula</option>`;
        aulas.forEach(a => { const op = document.createElement("option"); op.value = a; op.textContent = a; sel.appendAqui est√° o **portalaluno.html** completo e corrigido ‚Äî com o rodap√© id√™ntico ao do *index* e o overlay ‚ÄúEnviando‚Ä¶‚Äù centralizado e funcionando apenas durante o upload:  
üëâ [Clique para expandir o c√≥digo](#)

---

```html
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Portal do Aluno ‚Äì Editora Cr√°s</title>
  <meta name="description" content="Acompanhe o pr√≥ximo feedback, envie exerc√≠cios e acesse conte√∫dos gravados.">
  <link rel="icon" type="image/png" href="assets/favicon.png" sizes="32x32">
  <link rel="apple-touch-icon" href="assets/apple-touch-icon.png" sizes="180x180">
  <link rel="shortcut icon" href="assets/favicon.ico">
  <meta name="theme-color" content="#0286ff">
  <link rel="stylesheet" href="style.css?v=7">

  <style>
    /* Topbar */
    .topbar{
      width:100vw;margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw);
      background:#e6b200;color:#000;font-weight:800;text-align:center;
      padding:12px 0;box-shadow:inset 0 -2px 0 rgba(0,0,0,.08);
    }

    .curso-logo{width:200px;max-width:60vw;height:auto;display:block;margin:10px auto 6px}
    .dias-restantes{font-weight:800;margin:8px 0 6px;text-align:center}
    .dias-danger{color:#d93025}

    .card,.box-feedback{
      max-width:900px;margin:14px auto;background:#fff;border:1px solid #f2e3a6;
      border-radius:18px;padding:18px;box-shadow:0 8px 24px rgba(0,0,0,.06);text-align:center;
    }
    .btn-cta{
      display:block;width:100%;max-width:900px;margin:16px auto 10px;padding:16px 18px;
      border:none;border-radius:18px;background:#e6b200;color:#111;font-weight:800;cursor:pointer;
    }

    .flex-row{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
    .btn-sec{background:#ddd;color:#111;border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}

    .thumb-hint{font-size:12px;color:#666;text-align:center;margin-top:6px}
    .hidden{display:none!important}

    /* Overlay corrigido */
    #overlay{
      display:none; position:fixed; inset:0;
      width:100svw; height:100svh;
      background:rgba(0,0,0,.35); z-index:10000;
      place-items:center;
    }
    #overlay .loader{
      padding:12px 16px; background:#fff; border-radius:10px;
      box-shadow:0 6px 18px rgba(0,0,0,.15);
    }
    #overlay .loader-text{font-weight:700;color:#000;}
  </style>
</head>
<body>
  <div class="topbar">[aluno]</div>

  <main class="page-center" style="--center-offset:-40px;">
    <img id="cursoLogo" class="curso-logo" alt="Curso" style="display:none">
    <div id="diasRestantes" class="dias-restantes">Carregando...</div>

    <!-- Cupom -->
    <div id="cupomBox" class="card" style="display:none">
      <div>Poxa, seu acesso ao curso est√° acabando üò¢</div>
      <div style="margin-top:6px">
        Use o cupom <span id="cupomCod" style="background:#111;color:#ffd400;padding:3px 8px;border-radius:6px;font-weight:800">---</span>
        e receba <strong id="cupomPerc">---</strong>% de desconto para adquirir novamente.
        <a id="cupomLink" href="#" target="_blank" rel="noopener">Clique aqui</a>.
      </div>
    </div>

    <section id="dashboard">
      <div class="box-feedback">
        <h3>Pr√≥ximo feedback:</h3>
        <p class="fb-raw" id="fbRawWrap">
          <strong id="fbDiaTxt" style="display:none">‚Äî</strong>
          <strong id="fbHoraTxt" style="display:none">‚Äî</strong>
        </p>
        <p>Professor: <strong id="fbProf">‚Äî</strong></p>
        <p><a id="fbLink" href="#" target="_blank" rel="noopener">[link da aula]</a></p>
        <p>Senha: <strong id="fbSenha">‚Äî</strong></p>
        <p id="fbInfo" style="margin-top:10px;color:#333">‚Äî</p>
      </div>

      <button id="btnAbrirEnvio" class="btn-cta" type="button">Envie os exerc√≠cios para feedback</button>

      <div class="card">
        <h3 style="margin-top:0;">√öltima aula gravada:</h3>
        <p class="hint">Aproveite para baixar pois ela expira.</p>
        <p><a id="ultimaGravada" href="#" target="_blank" rel="noopener">[link]</a></p>
      </div>

      <div class="links-uteis">Links √∫teis</div>
      <div style="text-align:center">
        <button id="btnSair" class="btn-exit" type="button">Sair</button>
      </div>
    </section>

    <section id="envio" class="hidden">
      <div class="card">
        <h2>Envio de exerc√≠cio para feedback</h2>
        <div class="hint">*No m√°ximo 3 artes por semana. Envie apenas no dia do feedback.</div>

        <label class="title-label">M√≥dulo:</label>
        <select id="selModulo" class="input-like" disabled><option>Carregando m√≥dulos...</option></select>

        <label class="title-label">Aula:</label>
        <select id="selAula" class="input-like" disabled><option>Selecione o m√≥dulo primeiro</option></select>

        <label class="title-label">Envie a arte:</label>
        <div id="filesWrap" class="row">
          <input type="file" class="fileItem" accept="image/*">
          <div class="thumb-hint">Formatos de imagem (JPG/PNG). At√© 3 envios.</div>
        </div>

        <div class="flex-row" style="margin-top:6px">
          <button id="btnAddImagem" class="btn-sec" type="button">Adicionar outra imagem</button>
          <button id="btnResetar" class="btn-sec" type="button">Cancelar imagens</button>
        </div>

        <label class="title-label">Descri√ß√£o</label>
        <textarea id="descricao" rows="6" placeholder="Conte sobre suas dificuldades/pensamentos ao fazer esses desenhos."></textarea>

        <button id="btnEnviar" class="btn-cta" type="button">Enviar</button>
      </div>

      <div class="envio-back"><button id="btnVoltarEnvio" class="btn-back" type="button">Voltar</button></div>
    </section>

    <section id="sucesso" class="hidden">
      <div class="card">
        <h2>‚úÖ Enviado!</h2>
        <p>Pronto! Logo menos seu desenho ser√° avaliado!</p>
        <button id="btnVoltarMenu" class="btn-sec" type="button">Menu</button>
      </div>
    </section>
  </main>

  <div id="overlay"><div class="loader"><div class="loader-text">Enviando‚Ä¶</div></div></div>

  <!-- Rodap√© igual ao index -->
  <footer class="site-footer">
    <div class="footer-inner">
      <strong>Editora Cr√°s ‚Ä¢ </strong>
      <a href="mailto:contato@editoracras.com">Suporte</a>
      <small>¬© 2025. Todos os direitos reservados.</small>
    </div>
  </footer>

  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbwQ9utyV79uWjpVHuBRWbie_2kkgTX-lPBudob49WA2daqn5qdbdqyzhl3LqYC0y_fVuQ/exec";
    const MAX_FILES = 3;
    let sessao = null, bootstrap = null;
    const qs = s => document.querySelector(s);
    const qsa = s => Array.from(document.querySelectorAll(s));
    const show = el => el.classList.remove('hidden');
    const hide = el => el.classList.add('hidden');
    function setLoading(state){qs("#overlay").style.display=state?"grid":"none";const b=qs("#btnEnviar");if(b)b.disabled=state;}

    async function enviarExercicio(){
      const modulo=qs("#selModulo").value.trim();
      const aula=qs("#selAula").value.trim();
      const desc=qs("#descricao").value.trim();
      if(!modulo)return alert("Selecione o m√≥dulo."); if(!aula)return alert("Selecione a aula.");
      const chosen=qsa("#filesWrap input[type='file']").map(i=>i.files&&i.files[0]).filter(Boolean);
      if(!chosen.length)return alert("Envie pelo menos uma imagem."); if(chosen.length>MAX_FILES)return alert(`M√°ximo de ${MAX_FILES} imagens.`);
      setLoading(true);
      try{
        const files=[];for(const f of chosen){const r=await new Promise((res,rej)=>{const fr=new FileReader();fr.onload=()=>res({name:f.name,type:f.type,content:fr.result.split(",")[1]});fr.onerror=()=>rej(fr.error);fr.readAsDataURL(f)});files.push(r);}
        const body={action:"uploadExercise",curso:sessao.curso,email:sessao.email,nome:bootstrap?.nome||"",modulo,aula,descricao:desc,files};
        const resp=await fetch(API_URL,{method:"POST",body:JSON.stringify(body)});const data=await resp.json();
        if(!data||!data.ok)throw new Error(data?.message||"Falha no envio");
        hide(qs("#envio"));show(qs("#sucesso"));window.scrollTo({top:0,behavior:"smooth"});
      }catch(e){alert("Erro ao enviar: "+e.message);}finally{setLoading(false);}
    }
  </script>
</body>
</html>
